import{g as b,a as S}from"./react-hook-form-Dv-Bc-qe.js";import{s as E,g as N}from"./valibot-CrV1I3_1.js";var P=function(r,e,n){if(r&&"reportValidity"in r){var t=b(n,e);r.setCustomValidity(t&&t.message||""),r.reportValidity()}},I=function(r,e){var n=function(o){var a=e.fields[o];a&&a.ref&&"reportValidity"in a.ref?P(a.ref,o,r):a.refs&&a.refs.forEach(function(s){return P(s,o,r)})};for(var t in e.fields)n(t)},U=function(r){return r instanceof Date},$=function(r){return r==null},x=function(r){return typeof r=="object"},C=function(r){return!$(r)&&!Array.isArray(r)&&x(r)&&!U(r)},D=function(r){return/^\w*$/.test(r)},m=function(r,e,n){for(var t=-1,o=D(e)?[e]:function(g){return i=g.replace(/["|']|\]/g,"").split(/\.|\[/),Array.isArray(i)?i.filter(Boolean):[];var i}(e),a=o.length,s=a-1;++t<a;){var f=o[t],p=n;if(t!==s){var u=r[f];p=C(u)||Array.isArray(u)?u:isNaN(+o[t+1])?{}:[]}r[f]=p,r=r[f]}return r},M=function(r,e){e.shouldUseNativeValidation&&I(r,e);var n={};for(var t in r){var o=b(e.fields,t),a=Object.assign(r[t]||{},{ref:o&&o.ref});if(k(e.names||Object.keys(r),t)){var s=Object.assign({},b(n,t));m(s,"root",a),m(n,t,s)}else m(n,t,a)}return n},k=function(r,e){return r.some(function(n){return n.startsWith(e+".")})};function h(){return h=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},h.apply(this,arguments)}function V(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}var q=function(r,e,n){return n===void 0&&(n={}),function(t,o,a){try{var s=!a.shouldUseNativeValidation&&a.criteriaMode==="all";return Promise.resolve(E(r,t,h({},e,{abortPipeEarly:!s}))).then(function(f){if(f.issues){for(var p,u={},g=function(c,B){var v=typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(v)return(v=v.call(c)).next.bind(v);if(Array.isArray(c)||(v=function(l,w){if(l){if(typeof l=="string")return V(l,w);var d=Object.prototype.toString.call(l).slice(8,-1);return d==="Object"&&l.constructor&&(d=l.constructor.name),d==="Map"||d==="Set"?Array.from(l):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?V(l,w):void 0}}(c))){v&&(c=v);var O=0;return function(){return O>=c.length?{done:!0}:{done:!1,value:c[O++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}(f.issues);!(p=g()).done;){var i=p.value,y=N(i);if(y&&(u[y]||(u[y]={message:i.message,type:i.type}),s)){var A=u[y].types,j=A&&A[i.type];u[y]=S(y,s,u,i.type,j?[].concat(j,i.message):i.message)}}return{values:{},errors:M(u,a)}}return{values:n.raw?t:f.output,errors:{}}})}catch(f){return Promise.reject(f)}}};export{q as i};
